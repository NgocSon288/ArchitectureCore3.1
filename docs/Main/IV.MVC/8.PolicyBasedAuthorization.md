# Cách tạo Policy
- Tạo bằng các dùng [AddAuthorization] cho [Service]
    services.AddAuthorization(options =>
    {
        options.AddPolicy("MyPolicy1", policy => {
            policy.RequireRole("Vip");
        });

        options.AddPolicy("CanViewTest", policy => {
            policy.RequireRole("VipMember", "Editor");
        });
    });

# Những thuộc tính  của [Options] của [AddAuthorization]
- [RequireClaim] - User phải có Claim nào đó
- [RequireRole]  - User phải có Role nào đó
- [RequireUserName] - User phải có tên chỉ ra
- [AddRequirements] ...
        

# Cách dùng cho [Controller] hoặc [Action]
- [Authorize(Policy="NamePolicy")]
- [Authorize("NamePolicy")]


# ----------------------------------------------------------------
# Sử dụng [IAuthorizationService] chứng thực quyền cho [Policy]
- Ta có thể [Inject] nó vào [Constructor] như  các [Service] bình thường
    <!-- private readonly IAuthorizationService _authorizationService; -->

- Kiểm tra xem User có thỏa mãn chính sách policyname
    var result = await _authorizationService.AuthorizeAsync(User, "policyname");

    if (!result.Succeeded)
    {
        // Không có quyền
    } else {
        // Có quyền
    }


# Các phiên bản theo tham số của AuthorizeAsync:
    AuthorizeAsync(ClaimsPrincipal user, object resource, IAuthorizationRequirement requirements);

    AuthorizeAsync(ClaimsPrincipal user, object resource, string policyName);

    AuthorizeAsync(ClaimsPrincipal user, AuthorizationPolicy policy);

    AuthorizeAsync(ClaimsPrincipal user, object resource, AuthorizationPolicy policy);

    AuthorizeAsync(ClaimsPrincipal user, object resource, IAuthorizationRequirement requirement);

    AuthorizeAsync(ClaimsPrincipal user, string policyName);